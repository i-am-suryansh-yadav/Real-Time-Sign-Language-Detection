<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignSync - AI Sign Language Detection</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <div class="logo">
            <span class="logo-icon">üñêÔ∏è</span>
            <span class="logo-text">SignSync</span>
        </div>
        <nav>
            <a href="#home" class="nav-link active" data-page="home">Home</a>
            <a href="#features" class="nav-link" data-page="features">Features</a>
            <a href="#demo" class="nav-link" data-page="demo">Demo</a>
            <a href="#about" class="nav-link" data-page="about">About</a>
        </nav>
        <button id="launch-header" class="launch-btn">
            <span class="btn-glow"></span>
            Launch Camera
        </button>
    </header>

    <!-- Home Page -->
    <div id="home-page" class="page active">
        <section class="hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="glitch" data-text="Speak with your hands.">Speak with your hands.</h1>
                    <h1 class="glitch-secondary" data-text="We'll do the rest.">We'll do the rest.</h1>
                    <p class="hero-description">An AI-powered bridge between sign language and spoken words.<br>Real-time, browser-based, and accessible to everyone.</p>
                    <div class="hero-buttons">
                        <button id="launch-hero" class="launch-btn primary">
                            <span class="btn-glow"></span>
                            Launch Camera
                        </button>
                        <a href="#demo" class="demo-link" data-page="demo">
                            <span class="play-icon">‚ñ∂</span>
                            Watch Demo
                        </a>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="hand-container">
                        <img src="/static/hand.png" alt="Sign language hand" class="floating">
                        <div class="glow-effect"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CAMERA SECTION - COMPACT LAYOUT -->
        <section id="camera-section" class="hidden camera-section-compact">
            <div class="camera-container-wrapper">
                <h2 class="section-title">Sign Language Detection</h2>
                
                <div class="camera-controls-layout">
                    <!-- Video Container -->
                    <div class="video-wrapper">
                        <div class="video-container" id="video-container">
                            <img id="video-feed" src="" alt="Video Feed">
                            <div class="corner-decoration top-left"></div>
                            <div class="corner-decoration top-right"></div>
                            <div class="corner-decoration bottom-left"></div>
                            <div class="corner-decoration bottom-right"></div>
                        </div>
                    </div>
                    
                    <!-- Controls Panel -->
                    <div class="controls-panel">
                        <div class="control-group">
                            <button id="toggle-detection" class="detection-toggle-btn">
                                <span class="btn-glow"></span>
                                <span class="btn-icon">‚óè</span>
                                Start Detection
                            </button>
                            
                            <button id="stop-camera" class="stop-btn">
                                <span class="btn-glow"></span>
                                Stop Camera
                            </button>
                        </div>
                        
                        <!-- Info Box -->
                        <div class="info-box">
                            <div class="info-item">
                                <span class="info-label">Status:</span>
                                <span id="status-text" class="info-value">Stopped</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">FPS:</span>
                                <span id="fps-text" class="info-value">0</span>
                            </div>
                        </div>
                        
                        <!-- Instructions -->
                        <div class="instructions-box">
                            <h3>Instructions:</h3>
                            <ul>
                                <li>Click "Start Detection" to begin</li>
                                <li>Show your hand signs clearly</li>
                                <li>Watch predictions in real-time</li>
                                <li>Best results with good lighting</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Features Page -->
    <div id="features-page" class="page">
        <section class="content-section">
            <h2 class="section-title">Features</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Robust Design</h3>
                    <p>Built with efficient computer vision pipelines for reliable performance.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Prediction Confidence</h3>
                    <p>Displays real-time confidence percentage for each detected letter.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üáÆüá≥</div>
                    <h3>Hindi Mapping</h3>
                    <p>Maps English letters to corresponding Hindi characters for ISL.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>High Performance</h3>
                    <p>Optimized for 20+ FPS even with two-hand detection.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Real-Time Detection</h3>
                    <p>Instant sign recognition with minimal latency.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üëê</div>
                    <h3>Two-Hand Support</h3>
                    <p>Detects gestures using one or two hands for flexibility.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üé•</div>
                    <h3>Live Streaming</h3>
                    <p>Browser-based real-time video processing.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåê</div>
                    <h3>Browser Accessibility</h3>
                    <p>Run detection directly in your web browser without installations.</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Demo Page -->
<!-- Demo Page -->
<div id="demo-page" class="page">
    <section class="content-section">
        <h2 class="section-title">Demo</h2>
        <p class="demo-description">Watch a demonstration of SignSync in action.</p>
        
        <div class="video-demo-container">
            <div class="video-wrapper-demo">
                <!-- Simplified video tag with maximum compatibility -->
                <video 
                    id="demo-video" 
                    width="800" 
                    controls 
                    preload="none"
                    style="background: #000; border-radius: 10px; max-width: 100%;">
                    <source src="/static/demo.mp4" type="video/mp4">
                    <p style="color: white; padding: 20px;">
                        Your browser doesn't support HTML5 video. 
                        <a href="/static/demo.mp4" style="color: #6c63ff;">Download the video</a> instead.
                    </p>
                </video>
            </div>
            
            <div style="margin-top: 20px; text-align: center;">
                <button id="force-play" style="padding: 12px 24px; background: #6c63ff; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; box-shadow: 0 4px 12px rgba(108, 99, 255, 0.3);">
                    ‚ñ∂Ô∏è Click Here to Play Video
                </button>
                <p style="margin-top: 10px; color: #888; font-size: 14px;">
                    If video doesn't play automatically, click the button above or the play button on the video player
                </p>
            </div>
            
            <!-- Status indicator -->
            <div id="video-status" style="margin-top: 15px; padding: 10px; background: #1a1a2e; border-radius: 8px; color: #0f0; font-family: monospace; min-height: 30px; width: 100%; max-width: 800px; text-align: center;">
                Ready to play
            </div>
        </div>
    </section>
</div>

<style>
.video-demo-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}

.video-wrapper-demo {
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    max-width: 100%;
}

#force-play:hover {
    background: #5a52d5;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(108, 99, 255, 0.5);
}

#force-play:active {
    transform: translateY(0);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const video = document.getElementById('demo-video');
    const forcePlayBtn = document.getElementById('force-play');
    const status = document.getElementById('video-status');
    
    if (!video) {
        status.textContent = '‚ùå Video element not found';
        status.style.color = '#ff4444';
        return;
    }
    
    // Force play button
    forcePlayBtn.addEventListener('click', function() {
        status.textContent = 'üîÑ Attempting to play...';
        status.style.color = '#ffaa00';
        
        video.load(); // Force reload
        
        const playPromise = video.play();
        
        if (playPromise !== undefined) {
            playPromise.then(() => {
                status.textContent = '‚úÖ Video is playing!';
                status.style.color = '#00ff00';
                forcePlayBtn.textContent = '‚è∏Ô∏è Playing...';
                forcePlayBtn.disabled = true;
                forcePlayBtn.style.opacity = '0.6';
            }).catch(error => {
                status.textContent = '‚ùå Error: ' + error.message + ' - Try clicking the video player controls';
                status.style.color = '#ff4444';
                console.error('Play error:', error);
            });
        }
    });
    
    // Video event handlers
    video.addEventListener('play', function() {
        status.textContent = '‚ñ∂Ô∏è Video is playing!';
        status.style.color = '#00ff00';
    });
    
    video.addEventListener('pause', function() {
        if (video.currentTime > 0 && video.currentTime < video.duration) {
            status.textContent = '‚è∏Ô∏è Video paused';
            status.style.color = '#ffaa00';
            forcePlayBtn.disabled = false;
            forcePlayBtn.textContent = '‚ñ∂Ô∏è Resume Video';
            forcePlayBtn.style.opacity = '1';
        }
    });
    
    video.addEventListener('ended', function() {
        status.textContent = '‚úÖ Video finished!';
        status.style.color = '#00ff00';
        forcePlayBtn.disabled = false;
        forcePlayBtn.textContent = 'üîÑ Play Again';
        forcePlayBtn.style.opacity = '1';
    });
    
    video.addEventListener('loadedmetadata', function() {
        status.textContent = `‚úÖ Video loaded: ${video.duration.toFixed(1)}s duration`;
        status.style.color = '#00ff00';
    });
    
    video.addEventListener('error', function() {
        let errorText = 'Unknown error';
        if (video.error) {
            switch(video.error.code) {
                case 1: errorText = 'Loading aborted'; break;
                case 2: errorText = 'Network error'; break;
                case 3: errorText = 'Decode error - video may be corrupted'; break;
                case 4: errorText = 'Format not supported'; break;
            }
        }
        status.textContent = '‚ùå Error: ' + errorText;
        status.style.color = '#ff4444';
    });
    
    video.addEventListener('waiting', function() {
        status.textContent = '‚è≥ Buffering...';
        status.style.color = '#ffaa00';
    });
    
    video.addEventListener('canplay', function() {
        status.textContent = '‚úÖ Video ready to play - click the button or video controls';
        status.style.color = '#00ff00';
    });
});
</script>

    <!-- About Page -->
    <div id="about-page" class="page">
        <section class="content-section">
            <h2 class="section-title">About SignSync</h2>
            <div class="about-content">
                <div class="about-text">
                    <p class="about-intro">SignSync is a real-time Indian Sign Language (ISL) detection system designed to bridge the gap between sign language users and spoken communication. It uses advanced AI and computer vision to recognize A-Z gestures with high accuracy.</p>
                    
                    <div class="about-tech">
                        <h3>Technology Stack</h3>
                        <div class="tech-tags">
                            <span class="tech-tag">MediaPipe</span>
                            <span class="tech-tag">OpenCV</span>
                            <span class="tech-tag">scikit-learn</span>
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">Flask</span>
                        </div>
                    </div>

                    <div class="about-developer">
                        <h3>Developer</h3>
                        <p><strong>Suryansh Yadav</strong></p>
                        <p>A passionate developer focused on accessible technology.</p>
                        <p class="contact">üìß suryansh.1251010449@vit.edu</p>
                    </div>

                    <div class="about-future">
                        <h3>Future Roadmap</h3>
                        <ul class="roadmap-list">
                            <li>üî§ <strong>Word Formation Feature</strong> - Automatic word building from sequential letter detection</li>
                            <li>üîä <strong>Voice Output Integration</strong> - Text-to-speech for detected signs and words</li>
                            <li>üåç <strong>Multi-Language Support</strong> - Expand beyond ISL to other sign languages</li>
                            <li>üì± <strong>Mobile Application</strong> - Native iOS and Android apps</li>
                            <li>ü§ñ <strong>Sentence Formation</strong> - Grammar-aware sentence construction</li>
                            <li>‚òÅÔ∏è <strong>Cloud Deployment</strong> - Scalable web-based solution</li>
                            <li>üéì <strong>Learning Mode</strong> - Interactive tutorials for learning sign language</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>¬© 2025 SignSync. Empowering communication through AI.</p>
    </footer>

    <script src="/static/script.js"></script>
</body>
</html>